{"ast":null,"code":"import * as Tone from 'tone';\nimport { generateUniqId } from '../utilities';\nvar synthSettings = {\n  volume: 0.8,\n  detune: 0,\n  portamento: 0.05,\n  envelope: {\n    attack: 0.05,\n    attackCurve: 'exponential',\n    decay: 0.2,\n    decayCurve: 'exponential',\n    sustain: 0.2,\n    release: 1.5,\n    releaseCurve: 'exponential'\n  },\n  oscillator: {\n    type: 'amtriangle',\n    modulationType: 'sine',\n    // partialCount: 0,\n    // partials: [],\n    phase: 0,\n    harmonicity: 0.5\n  }\n};\nvar chorusSettings = {\n  wet: 0,\n  type: 'sine',\n  frequency: 1.5,\n  delayTime: 3.5,\n  depth: 0.7,\n  spread: 180\n};\nvar freeverbSettings = {\n  wet: 0.55,\n  roomSize: 0.23,\n  dampening: 40\n};\nvar pingPongDelaySettings = {\n  wet: 0,\n  delayTime: 0.25,\n  maxDelayTime: 1\n};\nvar tremoloSettings = {\n  wet: 0,\n  frequency: 10,\n  type: 'sine',\n  depth: 0.5,\n  spread: 180\n};\nvar vibratoSettings = {\n  wet: 0,\n  maxDelay: 0.005,\n  frequency: 5,\n  depth: 0.1,\n  type: 'sine'\n};\nvar channelSettings = {\n  volume: -14,\n  pan: 0,\n  mute: false,\n  solo: false\n}; // function instrument() {\n\nvar synthNode = new Tone.Synth(synthSettings);\nvar chorusNode = new Tone.Chorus(chorusSettings).start(); // const freeverbNode = new Tone.Freeverb(freeverbSettings)\n// const pingPongDelayNode = new Tone.PingPongDelay(pingPongDelaySettings)\n// const tremoloNode = new Tone.Tremolo(tremoloSettings)\n// const vibratoNode = new Tone.Vibrato(vibratoSettings)\n\nvar channelNode = new Tone.Channel(channelSettings).toDestination();\nsynthNode.chain(chorusNode, freeverbNode, pingPongDelayNode, tremoloNode, vibratoNode, channelNode);\nvar instrument = [{\n  id: generateUniqId(),\n  name: 'Melody Synth',\n  type: 'ToneSynth',\n  node: synthNode,\n  settings: synthSettings\n}, {\n  id: generateUniqId(),\n  name: 'Chorus',\n  type: 'Chorus',\n  node: chorusNode,\n  settings: chorusSettings\n}, {\n  id: generateUniqId(),\n  name: 'Freeverb',\n  type: 'Freeverb',\n  node: freeverbNode,\n  settings: freeverbSettings\n}, {\n  id: generateUniqId(),\n  name: 'Ping Pong Delay',\n  type: 'PingPongDelay',\n  node: pingPongDelayNode,\n  settings: pingPongDelaySettings\n}, {\n  id: generateUniqId(),\n  name: 'Tremolo',\n  type: 'Tremolo',\n  node: tremoloNode,\n  settings: tremoloSettings\n}, {\n  id: generateUniqId(),\n  name: 'Vibrato',\n  type: 'Vibrato',\n  node: vibratoNode,\n  settings: vibratoSettings\n}, {\n  id: generateUniqId(),\n  name: 'Channel',\n  type: 'Channel',\n  node: channelNode,\n  settings: channelSettings\n}];\nvar v = 1;\nvar part = new Tone.Part(function (time, note) {\n  synthNode.triggerAttackRelease(note.noteName, note.duration, time, note.velocity);\n}, [{\n  time: '0:0:0',\n  noteName: 'C4',\n  duration: '1n',\n  velocity: v\n}, {\n  time: '0:1:0',\n  noteName: 'E4',\n  duration: '1n',\n  velocity: v\n}, {\n  time: '0:2:0',\n  noteName: 'G4',\n  duration: '1n',\n  velocity: v\n}, {\n  time: '1:0:0',\n  noteName: 'D4',\n  duration: '1n',\n  velocity: v\n}, {\n  time: '1:1:0',\n  noteName: 'G4',\n  duration: '1n',\n  velocity: v\n}, {\n  time: '1:2:0',\n  noteName: 'B4',\n  duration: '1n',\n  velocity: v\n}, {\n  time: '2:0:0',\n  noteName: 'B3',\n  duration: '1n',\n  velocity: v\n}, {\n  time: '2:1:0',\n  noteName: 'E3',\n  duration: '1n',\n  velocity: v\n}, {\n  time: '2:2:0',\n  noteName: 'G3',\n  duration: '1n',\n  velocity: v\n}, {\n  time: '3:0:0',\n  noteName: 'E4',\n  duration: '1n',\n  velocity: v\n}, {\n  time: '3:1:0',\n  noteName: 'G4',\n  duration: '1n',\n  velocity: v\n}, {\n  time: '3:2:0',\n  noteName: 'B4',\n  duration: '1n',\n  velocity: v\n}]);\npart.loopEnd = '4m';\npart.loop = true;\nexport { instrument, part };","map":{"version":3,"sources":["/Users/olesyashevchenko/synthExample/app/javascript/tunes/melody_synth.js"],"names":["Tone","generateUniqId","synthSettings","volume","detune","portamento","envelope","attack","attackCurve","decay","decayCurve","sustain","release","releaseCurve","oscillator","type","modulationType","phase","harmonicity","chorusSettings","wet","frequency","delayTime","depth","spread","freeverbSettings","roomSize","dampening","pingPongDelaySettings","maxDelayTime","tremoloSettings","vibratoSettings","maxDelay","channelSettings","pan","mute","solo","synthNode","Synth","chorusNode","Chorus","start","channelNode","Channel","toDestination","chain","freeverbNode","pingPongDelayNode","tremoloNode","vibratoNode","instrument","id","name","node","settings","v","part","Part","time","note","triggerAttackRelease","noteName","duration","velocity","loopEnd","loop"],"mappings":"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","sourcesContent":["import * as Tone from 'tone'\nimport { generateUniqId } from '../utilities'\n\nconst synthSettings = {\n  volume: 0.8,\n  detune: 0,\n  portamento: 0.05,\n  envelope: {\n    attack: 0.05,\n    attackCurve: 'exponential',\n    decay: 0.2,\n    decayCurve: 'exponential',\n    sustain: 0.2,\n    release: 1.5,\n    releaseCurve: 'exponential'\n  },\n  oscillator: {\n    type: 'amtriangle',\n    modulationType: 'sine',\n    // partialCount: 0,\n    // partials: [],\n    phase: 0,\n    harmonicity: 0.5\n  }\n}\n\nconst chorusSettings = {\n  wet: 0,\n  type: 'sine',\n  frequency: 1.5,\n  delayTime: 3.5,\n  depth: 0.7,\n  spread: 180\n}\n\nconst freeverbSettings = {\n  wet: 0.55,\n  roomSize: 0.23,\n  dampening: 40\n}\n\nconst pingPongDelaySettings = {\n  wet: 0,\n  delayTime: 0.25,\n  maxDelayTime: 1\n}\n\nconst tremoloSettings = {\n  wet: 0,\n  frequency: 10,\n  type: 'sine',\n  depth: 0.5,\n  spread: 180\n}\n\nconst vibratoSettings = {\n  wet: 0,\n  maxDelay: 0.005,\n  frequency: 5,\n  depth: 0.1,\n  type: 'sine'\n}\n\nconst channelSettings = {\n  volume: -14,\n  pan: 0,\n  mute: false,\n  solo: false\n}\n\n// function instrument() {\nconst synthNode = new Tone.Synth(synthSettings)\nconst chorusNode = new Tone.Chorus(chorusSettings).start()\n// const freeverbNode = new Tone.Freeverb(freeverbSettings)\n// const pingPongDelayNode = new Tone.PingPongDelay(pingPongDelaySettings)\n// const tremoloNode = new Tone.Tremolo(tremoloSettings)\n// const vibratoNode = new Tone.Vibrato(vibratoSettings)\nconst channelNode = new Tone.Channel(channelSettings).toDestination()\n\nsynthNode.chain(\n  chorusNode,\n  freeverbNode,\n  pingPongDelayNode,\n  tremoloNode,\n  vibratoNode,\n  channelNode\n)\n\nconst instrument = [\n  {\n    id: generateUniqId(),\n    name: 'Melody Synth',\n    type: 'ToneSynth',\n    node: synthNode,\n    settings: synthSettings\n  },\n  {\n    id: generateUniqId(),\n    name: 'Chorus',\n    type: 'Chorus',\n    node: chorusNode,\n    settings: chorusSettings\n  },\n  {\n    id: generateUniqId(),\n    name: 'Freeverb',\n    type: 'Freeverb',\n    node: freeverbNode,\n    settings: freeverbSettings\n  },\n  {\n    id: generateUniqId(),\n    name: 'Ping Pong Delay',\n    type: 'PingPongDelay',\n    node: pingPongDelayNode,\n    settings: pingPongDelaySettings\n  },\n  {\n    id: generateUniqId(),\n    name: 'Tremolo',\n    type: 'Tremolo',\n    node: tremoloNode,\n    settings: tremoloSettings\n  },\n  {\n    id: generateUniqId(),\n    name: 'Vibrato',\n    type: 'Vibrato',\n    node: vibratoNode,\n    settings: vibratoSettings\n  },\n  {\n    id: generateUniqId(),\n    name: 'Channel',\n    type: 'Channel',\n    node: channelNode,\n    settings: channelSettings\n  }\n]\n\nconst v = 1\n\nconst part = new Tone.Part(\n  function (time, note) {\n    synthNode.triggerAttackRelease(\n      note.noteName,\n      note.duration,\n      time,\n      note.velocity\n    )\n  },\n  [\n    {\n      time: '0:0:0',\n      noteName: 'C4',\n      duration: '1n',\n      velocity: v\n    },\n    {\n      time: '0:1:0',\n      noteName: 'E4',\n      duration: '1n',\n      velocity: v\n    },\n    {\n      time: '0:2:0',\n      noteName: 'G4',\n      duration: '1n',\n      velocity: v\n    },\n    {\n      time: '1:0:0',\n      noteName: 'D4',\n      duration: '1n',\n      velocity: v\n    },\n    {\n      time: '1:1:0',\n      noteName: 'G4',\n      duration: '1n',\n      velocity: v\n    },\n    {\n      time: '1:2:0',\n      noteName: 'B4',\n      duration: '1n',\n      velocity: v\n    },\n    {\n      time: '2:0:0',\n      noteName: 'B3',\n      duration: '1n',\n      velocity: v\n    },\n    {\n      time: '2:1:0',\n      noteName: 'E3',\n      duration: '1n',\n      velocity: v\n    },\n    {\n      time: '2:2:0',\n      noteName: 'G3',\n      duration: '1n',\n      velocity: v\n    },\n    {\n      time: '3:0:0',\n      noteName: 'E4',\n      duration: '1n',\n      velocity: v\n    },\n    {\n      time: '3:1:0',\n      noteName: 'G4',\n      duration: '1n',\n      velocity: v\n    },\n    {\n      time: '3:2:0',\n      noteName: 'B4',\n      duration: '1n',\n      velocity: v\n    }\n  ]\n)\n\npart.loopEnd = '4m'\npart.loop = true\n\nexport { instrument, part }\n"]},"metadata":{},"sourceType":"module"}